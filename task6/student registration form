import re

def validate_name(name):
    """Name must contain only alphabets. Spaces are allowed for full names."""
    # Remove spaces to check if the rest are letters
    if name.replace(" ", "").isalpha() and len(name) > 0:
        return True
    return False

def validate_age(age):
    """Age must be a number between a reasonable range (e.g., 16-100)."""
    if age.isdigit():
        if 16 <= int(age) <= 100:
            return True
    return False

def validate_mobile(mobile):
    """Mobile number must be exactly 10 digits."""
    if mobile.isdigit() and len(mobile) == 10:
        return True
    return False

def validate_email(email):
    """Validates email structure using Regex."""
    # Standard regex for email validation
    pattern = r'^[\w\.-]+@[\w\.-]+\.\w+$'
    if re.match(pattern, email):
        return True
    return False

def validate_password(password):
    """
    Password Strong Rules:
    - At least 8 characters
    - Contains at least one uppercase letter
    - Contains at least one lowercase letter
    - Contains at least one number
    - Contains at least one special character
    """
    if len(password) < 8:
        return False
    if not re.search(r"[a-z]", password):
        return False
    if not re.search(r"[A-Z]", password):
        return False
    if not re.search(r"[0-9]", password):
        return False
    if not re.search(r"[@$!%*?&]", password):
        return False
    return True

def get_valid_input(prompt, validation_func, error_msg):
    """
    Helper function to keep asking for input until it is valid.
    """
    while True:
        user_input = input(prompt).strip()
        if validation_func(user_input):
            return user_input
        print(f"âŒ Error: {error_msg}\n")

def register_student():
    print("--- ðŸŽ“ Student Registration Form ðŸŽ“ ---")
    print("Please enter your details below.\n")

    # Collect Name
    name = get_valid_input(
        "Enter Full Name: ", 
        validate_name, 
        "Name must contain only alphabets."
    )

    # Collect Age
    age = get_valid_input(
        "Enter Age: ", 
        validate_age, 
        "Age must be a number between 16 and 100."
    )

    # Collect Mobile
    mobile = get_valid_input(
        "Enter Mobile Number: ", 
        validate_mobile, 
        "Mobile number must be exactly 10 digits."
    )

    # Collect Email
    email = get_valid_input(
        "Enter Email ID: ", 
        validate_email, 
        "Invalid email format (e.g., student@example.com)."
    )

    # Collect Username (Simple check: just needs to be non-empty)
    username = get_valid_input(
        "Create a Username: ", 
        lambda x: len(x) > 3, 
        "Username must be at least 4 characters long."
    )

    # Collect Password
    print("\n(Password must have: 8+ chars, 1 Upper, 1 Lower, 1 Digit, 1 Special Char)")
    password = get_valid_input(
        "Create a Password: ", 
        validate_password, 
        "Password is not strong enough."
    )

    # Final Success Message
    print("\n" + "="*40)
    print("âœ… REGISTRATION SUCCESSFUL!")
    print("="*40)
    print(f"Welcome, {name}!")
    print(f"Your details have been saved.")

# Run the program
if __name__ == "__main__":
    register_student()